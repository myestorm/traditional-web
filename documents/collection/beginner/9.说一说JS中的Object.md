# 说一说JS中的Object

Object是在javascript中一个经常使用的类型，而且JS中的所有对象都是继承自Object对象的。虽说我们平时只是简单地使用了Object对象来存储数据，并没有使用到太多其他功能，但是Object对象其实包含了很多有用的属性和方法，尤其是ES6增加的方法，因此，本文将从最基本的介绍开始，详细说明了Object的常用方法和应用。

Object翻译成中文就是“对象”。JavaScript 的核心是支持面向对象的，同时它也提供了强大灵活的 OOP （Object Oriented Programming）语言能力。

术语就不说了，只是谈一下初级的入门。对象可以看作是一个人，人具有属性（黑头发，黄皮肤，黑眼珠）和方法（走路，说话，微笑），通过new就可以得到一堆类似的人。其实准确的说法不是一个“人”，而是对人的一些定义。

## 常用JS创建对象方法

```js
const obj = new Object(); // Object构造函数创建
const obj1 = { // 使用对象字面量 这个是最常用的方式 
    color: 'red'
}

obj.name = 'zhangsan'
obj.age = 36
obj.say = (people) => {
    console.log(`Hi, ${people}!!!`)
}

obj1.name = 'lisi'
obj1.age = 40
obj1.walk = () => {
    console.log('i am walking!!')
}

// 调用对象方法
obj.say('xiaoming')
obj1.walk()

// 获取对象对象属性
console.log(obj1.age)
const key = 'name'
console.log(obj1[key]) // 等价于 console.log(obj1.name)，因为key是变量所以用[]来取值
```

## 如何遍历Object的所有属性

```js
const obj = {
    color: 'red',
    age: 40,
    walk: (param) => {
        console.log(param)
    }
}
Object.keys(obj).forEach(item => {
    console.log(item, obj[item])
})
```

## 特殊对象-数组对象

什么是数组？是相同数据类型的元素按一定”顺序“排列的集合。注意有顺序，数组是有顺序的。简单的规则：`{}`是无序的，`[]`是有序的。数组的顺序是从`0`开始，即下标是从`0`开始。

```js
const arr = ['a', 'b', 'c']
const arr1 = new Array()
const arrObj = [{
    a: 1,
    b: 2
}, {
    a: 2,
    b: 3
}]
arr1.push(1, 2, 3) // 数组最后加入“1”,“2”,“3”
arr1.unshift(0) // 数组最前面加入“0”
arr.splice(1, 1) // 删除'b' 从下标0开始删1位
arr.forEach((item, index) => { // 遍历数组
    console.log(item, index) // item是值， index是下标
})
const arr2 = arr.concat(arr1) // 合并数组
const arr3 = arr1.filter(item => item > 2) // 过滤数组 保留大于2的项目
const arr4 = arrObj.find(item => item.a === 2) // 查找a === 2的项
const arr5 = arrObj.findIndex(item => item.a === 2) // 查找a === 2的项的下标
console.log(arr)
console.log(arr1)
console.log(arr2)
console.log(arr3)
console.log(arr4)
console.log(arr5)
```

当然数组还有更多的方法，这里只是列出来经常用的，大约是关于数据的增删改查。

## 特殊对象-Function

Function翻译成中文就是函数。`函数是指一段可以直接被另一段程序或代码引用的程序或代码。`

函数在JS里面应该是最重要的东西了，下面的方法只说用法场景，并不解释原理。我始终觉得场景是记住用法的最好的方式。我们也不说“茴”的四种写法，只说最常用的方式。

```js
// 全局
function add (a, b) { // a,b 有个叫法 形参
    const c = 1 // 局部变量，在“{}”之外无法访问
    return a + b + c // 返回结果
}
console.log(add(2, 3)) // 输出6 2，3有个叫法 实参
console.log(c) // 抛出异常 c is not dfined


function Person (name, age) {
    this.name = name
    this.age = age
    this.cry = function () {
        console.log(this.name + '哭泣中...')
    }
}
// 原型方法，可以继承
Person.prototype.sayHi = function () {
    console.log(`Hi, my name is ${this.name}`)
}
const xiaoMing = new Person('小明', 20)
console.log(xiaoMing.age) // 输出20
xiaoMing.sayHi()
xiaoMing.cry()

const xiaoHong = new Person('小红', 25)
console.log(xiaoHong.name) // 输出20
xiaoHong.sayHi()

// 为啥要提这个写法，与直接写Function的作用域不一样，其他可以等价
const remove = (a, b) => {
    return a - b
}
console.log(remove(10, 8)) // 输出2
```

函数之所以重要，就是当你发现自己不停的在重复某个动作的时候，就可以考虑封装一个函数。结合数组对象来理解，Function就是可以自己来自定义类似数组一样的对象，然后反复用。这里有2个坑，一个是`this`的指向，一个是原型链。这个2个坑比较深，作为入门我觉得无需了解。



## JS的作用域

在 JavaScript 中, 作用域为可访问变量，对象，函数的集合。说白了就是，在某一个区域你能干什么。

- 变量在函数内声明，变量为局部作用域。局部变量：只能在函数内部访问。

- 变量在函数外定义，即为全局变量。全局变量有 全局作用域: 网页中所有脚本和函数均可使用。

- JavaScript 变量生命周期
  
  - JavaScript 变量生命周期在它声明时初始化。
  
  - 局部变量在函数执行完毕后销毁。
  
  - 全局变量在页面关闭后销毁。

- 在 HTML 中, 全局变量是 window 对象: 所有数据变量都属于 window 对象

- ES6中尽量使用`let`和`const`来定义变量，基本能保证变量的作用域和书写的顺序一致
  
  

## 值类型和引用类型

- 值类型（基本类型）：字符串（string）、数值（number）、布尔值（boolean）、undefined、null  （这5种基本数据类型是按值访问的，因为可以操作保存在变量中的实际的值）(ECMAScript 2016新增了一种基本数据类型：symbol 

- 引用类型：对象（Object）、数组（Array）、函数（Function）

- 值类型占用空间固定，保存与复制的是值本身；引用类型占用空间不固定，保存与复制的是指向对象的一个指针

```js
// 值类型
let a = 'string'
let b = a
b = 1
console.log(a, b) // 输出 string, 1

// 引用类型
let c = {
    a: 1,
    b: 2
}
let d = c
d.a = 3
console.log(c, d) // 输出 {a: 3, b: 2}，{a: 3, b: 2} 
// 实际说明c,d是同一个东西或指向了同一个东西，改一个，全都变了
```



## 好的编程习惯

编程就跟炒菜是一个道理，先把所有的原料（数据）都准备好，然后再炒（运算），上桌（得到预期的结果）。所以在写一段代码的时候，尽量把需要的变量，数据都准备好，摆在前面，然后再处理逻辑。Js虽然是一种弱类型语言，但是我们在定义变量的时候，尽量明确变量的数据类型。
